{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit, } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AngularFireDatabase,  } from '@angular/fire/compat/database';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\n\nimport { ToastController } from '@ionic/angular';\n\nimport { IonModal } from '@ionic/angular';\nimport { OverlayEventDetail } from '@ionic/core/components';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  \n\n  isModalOpen = false;\n  dataUser={\n    email:'',\n    password:'',\n  };\n  resetpass='';\n  userId = '';\n  connected:boolean;\n  resetemail='';\n\n\n  constructor(\n    public root:Router,\n    public fAuth:AngularFireAuth,\n    public toast:ToastController,\n  ) {\n    //Verifions l'etat de connexion de user\n    this.fAuth.authState.subscribe(auth=>{\n      if (!auth) {\n        console.log('user non connecté')\n        this.connected=false;\n      } else {\n        \n        \n        console.log('user connecté'+auth.uid, );\n        this.userId=auth.uid;\n        this.resetemail=auth.email;\n        \n        this.connected=true;\n      \n\n              \n      }\n    })\n   }\n\n \n  setOpen(isOpen: boolean) {\n    this.isModalOpen = isOpen;\n  }\n\n\n\n\n  ngOnInit() {\n  }\n\n  \n   \n \n  \n\n\nlogin(){\n  if(this.dataUser.email,this.dataUser.password){\n  this.fAuth.signInWithEmailAndPassword(this.dataUser.email,this.dataUser.password)\n  .then( (res)=>{ \n    console.log(res);\n    this.root.navigateByUrl(\"/tabs/tab1\");\n    console.log('user connecté');\n            this.dataUser={\n              email:'',\n              password:'',\n            };\n            \n   this.toast.create({\n      duration: 3000,\n      position:'top',\n      icon:'alert',\n      color:'success',\n      message:'Connexion reussie',\n      mode:'ios'\n      \n    }).then(res=>res.present());\n  }\n  ).catch(e =>{\n    console.log(e);\n    this.toast.create({\n      duration: 3000,\n      position:'top',\n      icon:'alert',\n      color:'danger',\n      header:'Email ou mot de passe incorrect',\n      message:'Verifiez vos informations.puis connectez-vous et de réessayer ',\n     \n    }).then(res=>res.present());\n    this.dataUser={\n      email:'',\n      password:'',\n    }\n  });\n  \n\n   }\n  }\nsignup(){\n  if(this.dataUser.email && this.dataUser.password){\n    this.fAuth.createUserWithEmailAndPassword(this.dataUser.email,this.dataUser.password)\n    .then( (res)=>{ \n      console.log(res);\n      this.root.navigateByUrl(\"/tabs/tab1\");\n    console.log(\"Redirecto to page home\");\n      console.log('user inscrit avec succès');\n              this.dataUser={\n                email:'',\n                password:'',\n              } \n     this.toast.create({\n        duration: 3000,\n        position:'top',\n        icon:'alert',\n        color:'success',\n        message:'Inscription effectuée avec succès',\n        mode:'ios'\n        \n      }).then(res=>res.present());\n    }\n    ).catch(e =>{\n      console.log(e);\n      this.toast.create({\n        duration: 3000,\n        position:'top',\n        icon:'alert',\n        color:'danger',\n        header:'Email ou mot de passe incorrect',\n        message:'Verifiez vos informations.puis connectez-vous et de réessayer ',\n       \n      }).then(res=>res.present());\n      this.dataUser={\n        email:'',\n        password:'',\n      }\n    })\n   \n  \n          \n  \n  }\n}\n  resetpassword(){\n    if(this.resetpass){\n      this.fAuth.sendPasswordResetEmail(this.resetpass).\n      then( (res)=>{ \n        console.log(res);\n        console.log('user inscrit avec succès');\n                this.dataUser={\n                  email:'',\n                  password:'',\n                } \n       this.toast.create({\n          duration: 3000,\n          position:'top',\n          icon:'alert',\n          color:'success',\n          message:\"Lien de reinitialisation envoyée avec succès, merci de consulteer votre compte puis suivez les instructions à l'écran \",\n          mode:'ios'\n          \n        }).then(res=>res.present());\n      }\n      ).catch(e =>{\n        console.log(e);\n        this.toast.create({\n          duration: 3000,\n          position:'top',\n          icon:'alert',\n          color:'danger',\n          header:'Email ou mot de passe incorrect',\n          message:'Verifiez vos informations.puis de réessayer svp',\n         \n        }).then(res=>res.present());\n       \n      })\n    }\n    this.resetpass='';\n    console.log('Lien de reinitialisation envoyée');\n\n    \n\n\n    \n     }\n\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}